{"1":{"filename":"projects/renderbreaker.txt","code":"--@name RenderBreaker\n--@shared \n\n\nif SERVER then\n    \n    wire.adjustInputs({\"A\"},{\"normal\"})\n    \n    hook.Add(\"Think\",\"asdf\",function()\n        if net.CanSend() and wire.ports.A then\n            net.Start(\"hob\")\n            net.WriteDouble(wire.ports.A)\n            net.Send()\n        end\n    end)\n    \nelseif CLIENT then\n    \n    hook.Add(\"net\",\"heh\",function()\n        A = net.ReadDouble()\n    end)\n    \n    Sound = sounds.Create(entities.self(),\"thrusters/jet01.wav\")\n    \n    E = ParticleEmitter(entities.self():GetPos()+Vector(0,0,0),false)\n    hook.Add(\"Think\",\"Lol\",function()\n        E:SetPos(entities.self():LocalToWorld(Vector(0,0,0)))\n        if A then\n            if not Sound:IsPlaying() and A > 0 then\n                Sound:Play()\n            elseif Sound:IsPlaying() and A == 0 then\n                Sound:Stop()\n            end\n            Sound:ChangePitch(75+(A/20)*100, 0 ) \n            \n            if A > 0 then\n                local Max = 10\n                for I = 0, Max do\n                    local Ang = I*(360/Max)\n                    local FX =\"effects/shipsplosion/fire_001\"\n                    p = E:Add(FX, entities.self():LocalToWorld(Vector(math.sin(Ang)*50,0,math.cos(Ang)*50)))\n                \tp:SetDieTime(1)\n                \tlocal V = Vector(math.sin(Ang+90)*20,0,math.cos(Ang+90)*20)*(A/2)\n                \tp:SetVelocity(V)\n                \tp:SetAirResistance(30)\n                \tp:SetNextThink(CurTime()+0.1)\n                \tp:SetThinkFunction( function(pa)\n                \t    pa:SetGravity((entities.self():GetPos() - pa:GetPos())*20)\n                \t    pa:SetNextThink(CurTime()+0.1)\n                \tend)\n                \tp:SetStartAlpha(255)\n                \tp:SetEndAlpha(255)\n                \tp:SetStartSize(math.random(10,A+10))\n                \tp:SetEndSize(0)\n            \tend\n            end\n        end\n\tend)\nend"},"2":{"filename":"HobScreen.txt","code":"--@name HobScreen\n--@author \n--@shared\n\nme = FindPlayerByName(\"H08\")\n\nif SERVER then\n    \n    active = {}\n    \n    hook.Add(\"PlayerSay\",\"HideUtilHud\",function(ply,text)\n        local t = string.lower(text)\n        if t == \"!cam\" then\n            net.Start(\"HideUtilHud\")\n                net.WriteBool(false)\n            net.Send(me)\n            return \"\"\n        elseif t == \"!camoff\" then\n            net.Start(\"HideUtilHud\")\n                net.WriteBool(true)\n            net.Send(me)\n            return \"\"\n        end\n    end)\n    \n    function RemoveTarget(core)\n        if core and core:IsValid() then\n            active[core] = nil\n            net.Start(\"RemoveCoreTarget\")\n                net.WriteUInt(core:EntIndex(),13)\n            net.Send(me)\n        end\n    end\n\n    function UpdateTargets()\n        local keys = table.GetKeys(active)\n        for i=#keys,1,-1 do\n            if not keys[i]:IsValid() then table.remove(active,keys[i]) end\n        end\n        for core,_ in pairs(active) do\n            net.Start(\"UpdateCoreTarget\")\n                net.WriteUInt(core:EntIndex(), 13)\n                net.WriteUInt(core:GetShieldAmount(), 32)\n                net.WriteUInt(core:GetShieldMax(), 32)\n                net.WriteUInt(core:GetArmorAmount(), 32)\n                net.WriteUInt(core:GetArmorMax(), 32)\n                net.WriteUInt(core:GetHullAmount(), 32)\n                net.WriteUInt(core:GetHullMax(), 32)\n            net.Send(me)\n        end\n    end\n    \n    function CheckAim() \n        local aiment = me:GetEyeTrace().Entity\n        if aiment and aiment:IsValid() then\n            local core = aiment:GetCoreEntity()\n            if core and core:IsValid() then\n                if not active[core] then\n                    active[core] = core\n                    net.Start(\"NewCoreTarget\")\n                        net.WriteUInt(core:EntIndex(), 13)\n                        net.WriteString(core:GetShipClass())\n                        net.WriteString(core:GetShipName())\n                        net.WriteUInt(core:GetShieldAmount(), 32)\n                        net.WriteUInt(core:GetShieldMax(), 32)\n                        net.WriteUInt(core:GetArmorAmount(), 32)\n                        net.WriteUInt(core:GetArmorMax(), 32)\n                        net.WriteUInt(core:GetHullAmount(), 32)\n                        net.WriteUInt(core:GetHullMax(), 32)\n                    net.Send(me)\n                end\n                timer.Create(\"remove\"..core:EntIndex(),3,1,function() RemoveTarget(core) end)\n            end\n        end\n    end\n    \n    timer.Create(\"scan\",0.3,0,CheckAim)\n    timer.Create(\"update\",1,0,UpdateTargets)\n    \nelse\n    if entities.player() == me then\n        Players = find.AllPlayers()\n        LPly = entities.player()\n        active = true\n        cores = {}\n        \n        TeamColours ={\n            Color(100,255,255), -- 1 ?\n            Color(255,100,255), -- 2 ? \n            Color(255,255,100), -- 3 ?\n            Color(100,255,100), -- 4 Player\n            Color(255,0,0),     -- 5 Administrator\n            Color(255,255,0),   -- 6 Respected Player\n            Color(255,255,255)} -- clamp\n        \n        \n        function DrawWedge(px,py,w,h,angle,size,col)\n        \tlocal vertices = {}\n        \tlocal fidelity = 180\n        \n        \tvertices[1] = { x = px, y = py, u = px, v = py }\n        \tlocal ang = -math.rad(angle)\n        \tlocal c = math.cos(ang)\n        \tlocal s = math.sin(ang)\n        \tfor ii=0,fidelity do\n        \t\tlocal i = ii*(360-size)/fidelity\n        \t\tlocal radd = math.rad(i)\n        \t\tlocal x = math.cos(radd)\n        \t\tlocal u = (x+1)/2\n        \t\tlocal y = math.sin(radd)\n        \t\tlocal v = (y+1)/2\n        \n        \t\t--radd = -rad(angle)\n        \t\tlocal tempx = x * w * c - y * h * s + x\n        \t\ty = x * w * s + y * h * c + y\n        \t\tx = tempx\n        \n        \t\tvertices[ii+2] = { x = x+px, y = y+py, u = u + px, v = v + py }\n        \tend\n        \n        \tsurface.SetDrawColor( col )\n        \tif (vertices and #vertices>0) then\n        \t\tsurface.DrawPoly( vertices )\n        \tend\n        end\n        \n        hook.Add(\"HUDPaint\",\"UtilHud\",function()\n            --players\n            if LPly:IsValid() and LPly:Alive() and LPly:GetActiveWeapon()~=\"weapon_stunstick\" and active then\n                if #Players > 0 then\n                    for _,P in pairs(Players) do\n                        if P ~= nil and P:IsValid() then\n                            if P~=LPly then\n                                local vec = (P:OBBCenterW()+Vector(0,0,P:OBBSize().z/2 + 10))\n                                local dist = vec:Distance(LPly:EyePos())\n                                local toScrn = (vec + Vector(0,0,dist*0.02)):ToScreen()\n                                local pos = {x=math.Clamp(toScrn.x,100,surface.ScreenW()-100),y=math.Clamp(toScrn.y,100,surface.ScreenH()-100)}\n                                if(P:Team()) then\n                                    surface.SetTextColor(TeamColours[math.Clamp(P:Team(),1,7)])\n                                end\n                                surface.SetFont(\"Default\")\n                                local w,h =surface.GetTextSize(P:GetName())\n                                surface.SetTextPos(pos.x -w/2,pos.y+10)\n                                surface.DrawText(P:GetName())\n                            end\n                        end\n                    end\n                end\n                if #cores then\n                    local keys = table.GetKeys(cores)\n                    for i=#keys,1,-1 do\n                        if not keys[i]:IsValid() then table.remove(cores,keys[i]) end\n                    end\n                    for c,t in pairs(cores) do\n                        local vec = c:LocalToWorld(c:OBBCenter())\n                        local toScrn = vec:ToScreen()\n                        local pos = {x=math.Clamp(toScrn.x,100,surface.ScreenW()-100),y=math.Clamp(toScrn.y,100,surface.ScreenH()-100)}\n                        local HPR = t.shield + t.armor + t.hull\n                        local HPMR = t.shieldmax + t.armormax + t.hullmax\n                        local HP = HPR/HPMR\n                        local ang = math.Clamp(360*(1-HP),0.001,360)\n                        local ShAng = 90 + (t.shieldmax/(HPMR+1))*360\n                        local ArAng = ShAng + (t.armormax/(HPMR+1))*360\n                        local HuAng = ArAng + (t.hullmax/(HPMR+1))*360\n                        --print(ShAng..\",\"..ArAng..\",\"..HuAng)\n                        DrawWedge(pos.x,pos.y,40,40,90-ang,ang,Color(255,155,0,255))\n                        surface.DrawCircle(pos.x,pos.y,40,Color(55,55,55,255))\n                        surface.SetDrawColor(Color(55,55,55,255))\n                        surface.DrawLine(pos.x,pos.y,pos.x-math.cos(math.rad(ShAng))*40,pos.y-math.sin(math.rad(ShAng))*40)\n                        surface.DrawLine(pos.x,pos.y,pos.x-math.cos(math.rad(ArAng))*40,pos.y-math.sin(math.rad(ArAng))*40)\n                        surface.DrawLine(pos.x,pos.y,pos.x-math.cos(math.rad(HuAng))*40,pos.y-math.sin(math.rad(HuAng))*40)\n                        surface.SetTextColor(Color(255,255,255,255))\n                        surface.SetTextPos(pos.x+34,pos.y-40)\n                        surface.DrawText(t.class)\n                        surface.SetTextPos(pos.x+42,pos.y-25)\n                        surface.DrawText(t.name)\n                    end\n                end\n            end\n            -- hook.Remove(\"HUDPaint\",\"UtilHud\")\n        end)\n        \n        timer.Create(\"refresh\",15,0,function() \n            Players = find.AllPlayers()\n        end)\n        \n        hook.Add(\"net\", \"HideUtilHud\", function(name, len, ply)\n            if name == \"HideUtilHud\" then\n                active = net.ReadBool()\n            elseif name == \"NewCoreTarget\" then\n                local core = Entity(net.ReadUInt(13))\n                cores[core] = {\n                        class=net.ReadString(),\n                        name=net.ReadString(),\n                        shield=net.ReadInt(32),\n                        shieldmax=net.ReadInt(32),\n                        armor=net.ReadInt(32),\n                        armormax=net.ReadInt(32),\n                        hull=net.ReadInt(32),\n                        hullmax=net.ReadInt(32)\n                    }\n            elseif name == \"UpdateCoreTarget\" then\n                local core = Entity(net.ReadUInt(13))\n                cores[core].shield=net.ReadInt(32)\n                cores[core].shieldmax=net.ReadInt(32)\n                cores[core].armor=net.ReadInt(32)\n                cores[core].armormax=net.ReadInt(32)\n                cores[core].hull=net.ReadInt(32)\n                cores[core].hullmax=net.ReadInt(32)\n            elseif name == \"RemoveCoreTarget\" then\n                local core = Entity(net.ReadUInt(13))\n                cores[core] = nil\n            end\n        end)\n    end\nend"},"3":{"filename":"/projects/plane/plane.txt","code":"--@name Plane\n--@author \n--@shared\n\nif SERVER then\n    \n    Throttle = 0\n    W = 0\n    A = 0\n    S = 0\n    D = 0\n    Shift = 0\n    Space = 0\n    Seat = 479\n    Driver = entities.entity(Seat):GetDriver() \n    Mass = 0\n    for K,V in pairs(entities.self():GetAllConstrainedEnts()) do\n        Mass = Mass + V:GetMass()\n    end\n    Text = \"\"\n    Offset = Vector(0,0,0)\n    function NetworkVars()\n        if net.CanSend() then\n            net.Start(\"Throttle\")\n            net.WriteDouble(Throttle)\n            if Driver:IsValid() then\n                net.WriteInt(Driver:EntIndex(),8)\n            else\n                net.WriteInt(-1,8)\n            end\n            net.WriteString(Text)\n            net.Send()\n        end\n    end\n    \n    hook.Add(\"KeyPress\",\"HobPress\",function(ply,key)\n        if ply == Driver then\n            if key == 8 then\n                W = 1\n            elseif key == 512 then\n                A = 1\n            elseif key == 16 then\n                S = 1\n            elseif key == 1024 then\n                D = 1\n            elseif key == 131072 then\n                Shift = 1\n            elseif key == 2 then\n                Space = 1\n            end\n        end\n    end)\n    hook.Add(\"KeyRelease\",\"HobRelease\",function(ply,key)\n        if ply == Driver then\n            if key == 8 then\n                W = 0\n            elseif key == 512 then\n                A = 0\n            elseif key == 16 then\n                S = 0\n            elseif key == 1024 then\n                D = 0\n            elseif key == 131072 then\n                Shift = 0\n            elseif key == 2 then\n                Space = 0\n            end\n        end\n    end)\n    \n    Holo = holograms.create(entities.self():GetPos(),Angle(0,0,0),\"models/hunter/blocks/cube025x025x025.mdl\",Vector(1,1,1))\n    Holo:SetColor(Color(255,0,0))\n    hook.Add(\"Think\",\"HobThink\",function() \n        \n        local ThrstMul = 50 * Mass\n        local PitchMul = 5 * Mass\n        local YawMul = 5 * Mass\n        local RollMul = 500 * Mass\n        \n        --internal vars\n        local Ent = entities.self():IsWeldedTo()\n        Driver = entities.entity(Seat):GetDriver() \n        Throttle = math.Clamp(Throttle + W/100 - S/100, 0 , 1)\n        if Driver:IsValid() then \n            Holo:setPos(Driver:EyePos() + Driver:EyeAngles():Forward()*500 +Offset)\n            Ang = (Driver:EyePos() - Holo:GetPos()):Angle()\n            Ang[2] = Ang[2] - Ent:GetAngles()[2]\n            Ang[2] = Ang[2] + 90\n            Ang[1] = Ang[1] - Ent:GetAngles()[3]\n            Ang:Normalize()\n            Text = \"Pitch: \" .. math.Round(Ang[1]) .. \" Yaw: \" .. math.Round(Ang[2]) .. \" Roll: \" .. (D-A)\n            Ent:ApplyAngForce(Angle(RollMul*(D-A),YawMul*Ang[2],PitchMul*Ang[1]))\n            Ent:ApplyForceCenter(-Ent:GetRight()*ThrstMul*Throttle)\n        end\n        NetworkVars()\n    end)\n    \n\n\nelse\n    Driver = nil\n    Text = \"\"\n    hook.Add(\"net\",\"HobNet\",function(Name)\n        if Name == \"Throttle\" then\n            Throttle = net.ReadDouble()\n            Driver = entities.entity(net.ReadInt(8))\n            Text = net.ReadString()\n        end\n    end)\n    Throttle = 0.5\n    hook.Add(\"HUDPaint\",\"HobPaint\",function() \n        if entities.player() == Driver then\n            local w,h = surface.ScreenW(), surface.ScreenH()\n            surface.SetDrawColor(Color(200,200,200))\n            surface.DrawRect(21,h-160,290,30)\n            surface.SetDrawColor(Color(100,100,100))\n            surface.DrawRect(23,h-158,286*Throttle,26)\n            surface.SetTextColor(Color(255,255,255))\n            surface.SetTextPos(23,h-175)\n            surface.DrawText(Text)\n        end\n    end)\nend"},"4":{"filename":"projects/plane/plane.txt","code":"--@name Plane\n--@author \n--@shared\n\nif SERVER then\n    \n    Throttle = 0\n    W = 0\n    A = 0\n    S = 0\n    D = 0\n    Shift = 0\n    Space = 0\n    Mass = 0\n    for K,V in pairs(entities.self():GetAllConstrainedEnts()) do\n        Mass = Mass + V:GetMass()\n        if V:GetClass() == \"prop_vehicle_prisoner_pod\" then\n            Seat = V:EntIndex()\n        end\n    end\n    Driver = entities.entity(Seat):GetDriver() \n    Text = \"\"\n    Offset = Vector(0,0,0)\n    function NetworkVars()\n        if net.CanSend() then\n            net.Start(\"Throttle\")\n            net.WriteDouble(Throttle)\n            if Driver:IsValid() then\n                net.WriteInt(Driver:EntIndex(),8)\n            else\n                net.WriteInt(-1,8)\n            end\n            net.WriteString(Text)\n            net.Send()\n        end\n    end\n    \n    hook.Add(\"KeyPress\",\"HobPress\",function(ply,key)\n        if ply == Driver then\n            if key == 8 then\n                W = 1\n            elseif key == 512 then\n                A = 1\n            elseif key == 16 then\n                S = 1\n            elseif key == 1024 then\n                D = 1\n            elseif key == 131072 then\n                Shift = 1\n            elseif key == 2 then\n                Space = 1\n            end\n        end\n    end)\n    hook.Add(\"KeyRelease\",\"HobRelease\",function(ply,key)\n        if ply == Driver then\n            if key == 8 then\n                W = 0\n            elseif key == 512 then\n                A = 0\n            elseif key == 16 then\n                S = 0\n            elseif key == 1024 then\n                D = 0\n            elseif key == 131072 then\n                Shift = 0\n            elseif key == 2 then\n                Space = 0\n            end\n        end\n    end)\n    \n    Holo = holograms.create(entities.self():GetPos(),Angle(0,0,0),\"models/hunter/blocks/cube025x025x025.mdl\",Vector(1,1,1))\n    Holo:SetColor(Color(255,0,0))\n    hook.Add(\"Think\",\"HobThink\",function() \n        \n        local ThrstMul = 40 * Mass\n        local PitchMul = 5 * Mass\n        local YawMul = 5 * Mass\n        local RollMul = 700 * Mass\n        \n        --internal vars\n        local Ent = entities.self():IsWeldedTo()\n        Driver = entities.entity(Seat):GetDriver() \n        Throttle = math.Clamp(Throttle + W/100 - S/100, 0 , 1)\n        if Driver:IsValid() then \n            Holo:setPos(Driver:EyePos() + Driver:EyeAngles():Forward()*500 +Offset)\n            Ang = (Driver:EyePos() - Holo:GetPos()):Angle()\n            Ang[2] = Ang[2] - Ent:GetAngles()[2]\n            Ang[2] = Ang[2] + 90\n            Ang[1] = Ang[1] - Ent:GetAngles()[3]\n            Ang:Normalize()\n            Text = \"Pitch: \" .. math.Round(Ang[1]) .. \" Yaw: \" .. math.Round(Ang[2]) .. \" Roll: \" .. (D-A)\n            Ent:ApplyAngForce(Angle(RollMul*(D-A),YawMul*Ang[2],PitchMul*Ang[1]))\n            Ent:ApplyForceCenter(-Ent:GetRight()*ThrstMul*Throttle)\n        end\n        NetworkVars()\n    end)\n    \n\n\nelse\n    Driver = nil\n    Text = \"\"\n    hook.Add(\"net\",\"HobNet\",function(Name)\n        if Name == \"Throttle\" then\n            Throttle = net.ReadDouble()\n            Driver = entities.entity(net.ReadInt(8))\n            Text = net.ReadString()\n        end\n    end)\n    Throttle = 0.5\n    hook.Add(\"HUDPaint\",\"HobPaint\",function() \n        if entities.player() == Driver then\n            local w,h = surface.ScreenW(), surface.ScreenH()\n            surface.SetDrawColor(Color(200,200,200))\n            surface.DrawRect(21,h-160,290,30)\n            surface.SetDrawColor(Color(100,100,100))\n            surface.DrawRect(23,h-158,286*Throttle,26)\n            surface.SetTextColor(Color(255,255,255))\n            surface.SetTextPos(23,h-175)\n            surface.DrawText(Text)\n        end\n    end)\nend"},"selectedTab":2}