--@name ChatBox
--@sharedscreen

if SERVER then 
    --NET MESSAGES
    hook.add("PlayerSay","PlayerSay",function(Player,Text,teamChat)
        net.start("NetMsg")
        local Message = Player:getName()..": "..Text
        if Player:isSuperAdmin() then 
            Message = Player:getName().."(SuperAdmin): "..Text
        elseif Player:isAdmin() then
            Message = Player:getName().."(Admin): "..Text
        end
        net.writeString(Message)
        net.send()
    end)
else
    --DISPLAY STOOF
    local Tbl = {}
    hook.add("net","netmsg",function(Name,Length,A)
        local String = net.readString()

        local Count = 0
        while String:len()/80 > Count do
            table.insert(Tbl,String:sub(Count*80,(Count+1)*80))
            Count = Count + 1
        end

    end)
    hook.add("render","render",function()
        render.clear()
        if #Tbl > 0 then
            local Count = 0
            for _,V in pairs(Tbl) do
                Count=Count+1
                render.drawText(10,480-(#Tbl*20)+Count*20,V,0)
            end
        else
            render.drawText(256,256,"NO STRING",1)
        end
    --hook.remove("render","render")
    end)
end

