@name DIVRAN BASED MAGIC
@inputs 
@outputs 
@persist Length
@trigger 

if (first()) {
    local Model = "models/hunter/blocks/cube05x8x025.mdl"

    holoCreate(1)
    holoModel(1,Model)
    
    holoCreate(2)
    holoModel(2,Model)
    
    function holoOffset(Idx,Parent:entity,Angle:angle) {
        local Ent = holoEntity(1)
        local BoxSize1 = vec(0,Ent:boxSize():y()/2,0)
        local BoxSize2 = vec(0,Parent:boxSize():y()/2,0)
        
        holoPos(Idx,Parent:toWorld(BoxSize2 + BoxSize1:rotate(Angle)))
        holoAng(Idx,Parent:toWorld(Angle))
    }
    
    function holoOffset(Idx,ParentIdx,Angle:angle) {
        holoOffset(Idx,holoEntity(ParentIdx),Angle)
    }
}

interval(100)

local Yaw = (curtime() * 30) % 360
holoOffset(1,entity(),ang(0,45,0))
holoOffset(2,1,ang(0,Yaw,0))
